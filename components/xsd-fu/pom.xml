<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
    http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <parent>
    <groupId>loci</groupId>
    <artifactId>pom-scifio</artifactId>
    <version>4.5-SNAPSHOT</version>
    <relativePath>../..</relativePath>
  </parent>

  <artifactId>xsd-fu</artifactId>

  <name>XSD-FU</name>
  <description>Model code generation from XML schema</description>
  <url>http://loci.wisc.edu/software</url>
  <inceptionYear>2005</inceptionYear>

  <licenses>
    <license>
      <name>GPL 2 or later</name>
      <url>http://www.gnu.org/licenses/gpl-2.0.txt</url>
      <distribution>repo</distribution>
    </license>
  </licenses>

  <dependencies>
    <!-- None at present; maybe specification once it also has a pom.xml? -->
  </dependencies>

  <properties>
    <project.rootdir>${basedir}/../..</project.rootdir>
    <xsdfu.schemaver>2012-06</xsdfu.schemaver>
    <xsdfu.schemapath>../specification/released-schema/${xsdfu.schemaver}</xsdfu.schemapath>
    <xsdfu.ome>${xsdfu.schemapath}/ome.xsd</xsdfu.ome>
    <xsdfu.binaryfile>${xsdfu.schemapath}/BinaryFile.xsd</xsdfu.binaryfile>
    <xsdfu.roi>${xsdfu.schemapath}/ROI.xsd</xsdfu.roi>
    <xsdfu.sa>${xsdfu.schemapath}/SA.xsd</xsdfu.sa>
    <xsdfu.spw>${xsdfu.schemapath}/SPW.xsd</xsdfu.spw>
    <xsdfu.modelpath>../ome-xml/build/src/ome/xml/model</xsdfu.modelpath>
    <xsdfu.enumpath>../ome-xml/build/src/ome/xml/model/enums</xsdfu.enumpath>
    <xsdfu.handlerpath>../ome-xml/build/src/ome/xml/model/enums/handlers</xsdfu.handlerpath>
    <xsdfu.metadatapath>../scifio/build/src/loci/formats/meta</xsdfu.metadatapath>
    <xsdfu.scifiopath>../scifio/build/src/loci/formats/ome</xsdfu.scifiopath>
  </properties>

  <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>exec-maven-plugin</artifactId>
	<executions>
	  <!-- Generate the OME model object classes -->
	  <execution>
	    <id>xsd-fu-java-classes</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>java_classes</argument>
		<argument>-p</argument>
		<argument>ome.xml.model</argument>
		<argument>-o</argument>
		<argument>${xsdfu.modelpath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>
	  <!-- Generate the OME model enumeration classes -->
	  <execution>
	    <id>xsd-fu-enum-types</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>enum_types</argument>
		<argument>-p</argument>
		<argument>ome.xml.model.enums</argument>
		<argument>-o</argument>
		<argument>${xsdfu.modelpath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>
	  <!-- Generate the handlers for the OME model enumeration classes -->
	  <execution>
	    <id>xsd-fu-enum-handlers</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>enum_handlers</argument>
		<argument>-p</argument>
		<argument>ome.xml.model.enums.handlers</argument>
		<argument>-o</argument>
		<argument>${xsdfu.modelpath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>

	  <!-- Generate the metadata interfaces -->
	  <execution>
	    <id>xsd-fu-metadata-store</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>metadata_store</argument>
		<argument>-o</argument>
		<argument>${xsdfu.metadatapath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>
	  <execution>
	    <id>xsd-fu-metadata-retrieve</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>metadata_retrieve</argument>
		<argument>-o</argument>
		<argument>${xsdfu.metadatapath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>
	  <!-- Generate the metadata implementations -->
	  <execution>
	    <id>xsd-fu-metadata-aggregate</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>metadata_aggregate</argument>
		<argument>-o</argument>
		<argument>${xsdfu.metadatapath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>
	  <execution>
	    <id>xsd-fu-dummy-metadata</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>dummy_metadata</argument>
		<argument>-o</argument>
		<argument>${xsdfu.metadatapath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>
	  <execution>
	    <id>xsd-fu-filter-metadata</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>filter_metadata</argument>
		<argument>-o</argument>
		<argument>${xsdfu.metadatapath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>

	  <execution>
	    <id>xsd-fu-omexml-metadata</id>
	    <phase>generate-sources</phase>
	    <goals>
	      <goal>exec</goal>
	    </goals>
	    <configuration>
	      <executable>python</executable>
	      <arguments>
		<argument>xsd-fu</argument>
		<argument>omexml_metadata</argument>
		<argument>-o</argument>
		<argument>${xsdfu.scifiopath}/</argument>
		<argument>${xsdfu.ome}</argument>
		<argument>${xsdfu.binaryfile}</argument>
		<argument>${xsdfu.roi}</argument>
		<argument>${xsdfu.sa}</argument>
		<argument>${xsdfu.spw}</argument>
	      </arguments>
	    </configuration>
	  </execution>
	</executions>
      </plugin>
    </plugins>
  </build>

</project>
